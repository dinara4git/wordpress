(()=>{"use strict";(()=>{function e(e){const t=window.location.href.split("#");window.location=t[0]+e}function t(){const e=document.querySelector(".wpte-lrf-wrap.wpte-register"),t=document.querySelector(".wpte-lrf-wrap.wpte-login"),l=document.querySelector(".social-label.wpte-register"),o=document.querySelector(".social-label.wpte-login");e&&(e.style.display="none"),t&&(t.style.display="block"),l&&(l.style.display="none"),o&&(o.style.display="block")}function l(){const e=document.querySelector(".wpte-lrf-wrap.wpte-register"),t=document.querySelector(".wpte-lrf-wrap.wpte-login"),l=document.querySelector(".social-label.wpte-register"),o=document.querySelector(".social-label.wpte-login");e&&(e.style.display="block"),t&&(t.style.display="none"),l&&(l.style.display="block"),o&&(o.style.display="none")}document.addEventListener("DOMContentLoaded",(()=>{!function(){const e=document.querySelectorAll(".wpte-dashboard .wpte-lrf-userprogile > a");e.length>0&&e.forEach((e=>{e.addEventListener("click",(t=>{t.stopPropagation(),e.parentElement.classList.toggle("active");const l=e.nextElementSibling;l&&(l.style.display="none"===l.style.display||""===l.style.display?"block":"none")}))}));const t=document.querySelectorAll(".wpte-dashboard .wpte-lrf-userprogile .lrf-userprofile-popup");t.length>0&&t.forEach((e=>{e.addEventListener("click",(e=>{e.stopPropagation()}))})),document.addEventListener("click",(()=>{document.querySelectorAll(".wpte-lrf-userprogile").forEach((e=>e.classList.remove("active"))),document.querySelectorAll(".lrf-userprofile-popup").forEach((e=>e.style.display="none"))}));const l=document.querySelectorAll(".wpte-dashboard .wpte-lrf-sidebar .wpte-lrf-tab");l.forEach((e=>{e.addEventListener("click",(function(){const e=this.classList[1];l.forEach((e=>e.classList.remove("active"))),this.classList.add("active"),document.querySelectorAll(".wpte-dashboard .wpte-lrf-content-area .wpte-lrf-tab-content").forEach((t=>{t.classList.remove("active"),t.classList.contains(`${e}-content`)&&t.classList.add("active")}))}))}));const o=document.querySelectorAll(".lrf-bookings-content .wpte-bookings-tabmenu .wpte-booking-menu-tab");o.forEach((e=>{e.addEventListener("click",(function(){const e=this.classList[1];o.forEach((e=>e.classList.remove("active"))),this.classList.add("active"),document.querySelectorAll(".lrf-bookings-content .wpte-booking-tab-main .wpte-booking-tab-content").forEach((t=>{t.classList.remove("active"),t.classList.contains(`${e}-content`)&&t.classList.add("active")}))}))}));const r=document.querySelectorAll(".lrf-toggle .lrf-toggle-box");r.forEach((e=>{e.addEventListener("click",(function(){this.classList.toggle("active");const e=this.closest(".lrf-toggle").nextElementSibling;e&&e.classList.contains("wpte-lrf-popup")&&(e.style.display="none"===e.style.display||""===e.style.display?"block":"none")}))})),window.addEventListener("keyup",(e=>{"Escape"===e.key&&(document.querySelectorAll(".wpte-lrf-userprogile").forEach((e=>e.classList.remove("active"))),document.querySelectorAll(".lrf-userprofile-popup").forEach((e=>e.style.display="none")),r.forEach((e=>e.classList.remove("active"))),document.querySelectorAll(".wpte-lrf-popup").forEach((e=>e.style.display="none")))})),document.querySelectorAll(".wte-dbrd-tab").forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=this.dataset.tab;document.querySelectorAll(".wpte-lrf-sidebar .wpte-lrf-tab").forEach((e=>e.classList.remove("active"))),document.querySelector(`.wpte-lrf-sidebar .lrf-${t}`).classList.add("active"),document.querySelectorAll(".wpte-lrf-main .wpte-lrf-tab-content").forEach((e=>e.classList.remove("active"))),document.querySelector(`.wpte-lrf-main .lrf-${t}`).classList.add("active")}))}))}(),function(){const e={acceptedFiles:"image/jpeg, image/gif, image/png",maxFiles:1,url:wte_account_page.ajax_url,uploadMultiple:!1,resizeWidth:1500,resizeMimeType:"image/jpeg",resizeMethod:"crop",resizeQuality:65,createImageThumbnails:!1,maxFilesize:2,dictDefaultMessage:"",clickable:!0},t=document.getElementById("profile-img");if(t){const l=new Dropzone("#profile-img .wpte-img-upload-icon",e);l.on("sending",(function(e,t,l){const o=document.getElementsByName("user_profile_image_nonce")[0].value;l.append("action","wte_user_profile_image_upload"),l.append("nonce",o)})),l.on("success",(function(e,l){if("error"!==l){const e=JSON.parse(l);t.querySelector(".img").innerHTML=`<img src="${e.url}">`,t.querySelector("input[name='user_profile_image']").value=e.file,t.querySelector("input[name='user_profile_image_url']").value=e.url;const o=t.querySelector(".dz-preview");o&&o.remove()}})),l.on("addedfile",(function(e){const o=t.querySelector(".wte-profile-img-delete");o.style.display="block",o.addEventListener("click",(function r(){t.querySelector("input[name='user_profile_image']").value="",t.querySelector("input[name='user_profile_image_url']").value="",l.removeFile(e),o.style.display="none",o.removeEventListener("click",r)}))})),document.addEventListener("click",(function(e){if(e.target.closest(".wte-profile-btns .wte-profile-img-delete")){l.removeAllFiles(),t.querySelector("input[name='user_profile_image']").value="",t.querySelector("input[name='user_profile_image_url']").value="";const e=t.querySelector(".img img");e&&e.remove(),t.querySelector(".wte-profile-img-delete").style.display="none"}else if(e.target.closest(".dz-preview .dz-error-mark")){const e=t.querySelector(".dz-preview");e&&e.remove()}}))}}(),function(){"function"==typeof window.Parsley&&document.querySelectorAll("form.wpte-lrf").forEach((e=>{window.Parsley(e)}));const o=document.getElementById("wpte-show-login-form"),r=document.getElementById("wpte-show-register-form");o&&o.addEventListener("click",(l=>{l.preventDefault(),e(l.target.hash),t()})),r&&r.addEventListener("click",(t=>{t.preventDefault(),e(t.target.hash),l()})),function(){const e=window.location.href.split("#"),o={login:t,signup:l};e[1]&&o[e[1]]&&o[e[1]]()}()}()}))})()})();